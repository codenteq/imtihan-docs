# Package development

A package is a unit added to your application for enhancement which includes routes, controllers, views, and configuration specifically. Packages are created to manage your large applications into smaller units.

You can find a basic tree-structure of the package below:

```php
- app/
  - Console/
  - Exceptions/
  - Http/
    - Controllers/API/
      - ExampleController.php
    - Middleware/
    - Requests/
      - StoreExampleRequest.php
      - UpdateExampleRequest.php
    - Resources/
      - ExampleResource.php
  - Jobs/
  - Models/
    - Example.php
  - Providers/
  - Services/
    - BaseService.php
    - ExampleService.php
  - Traits/
- database/
  - factories/
    - ExampleFactory.php
  - migrations/
    - create_examples_table.php
  - seeders/
- routes/
  - api.php
  - auth.php
  - channels.php
  - console.php
  - web.php
- tests/
  - Feature/
    - ExampleTest.php
  - Unit/
    - ExampleTest.php
```

## Create a new package

## Back-end
There are two ways to create a package.
1. By using Laravel Artisan Commands (**Recommended**)
1. By manually setting up all files (**Expert Level**)

### 1. By using Laravel Artisan Commands
### Method 1
With the package builder you can build the entire architecture in one command.
```sh
php artisan package:create --path=Example --name=Example
```

::: tip
You create the Controller API, Store & Update Request, Eloquent: API Resource, Laravel Test structure with the package:create command.
<br/>`--path`= is the function used to specify the file path of the package you will create.
<br/>`--name`= is the function used to specify the name of the package you will create.
:::

### Method 2
Now, to generate your package you need to use the following command,
```sh
php artisan make:model Example -m
```
```sh
php artisan make:controller ExampleController --model=Example --api --resource
```
```php
use App\Http\Controllers\API\ApiController;

class ExampleController extends ApiController
{
  //
}
```
```sh
php artisan make:request StoreExampleRequest
```
```sh
php artisan make:request UpdateExampleRequest
```
```php
return true;
or
return false;
```
```sh
php artisan make:resource ExampleResource
```
There is no Artisan command to create a service so we will create it manually.
```php
- app/Services
  - ExampleService.php
```
```php
use App\Services\Base\BaseService;

class ExampleService extends BaseService
{
    //
}
```
```sh
php artisan make:factory ExampleFactory
```
for feature testing:
```sh
php artisan make:test ExampleControllerTest
```
for unit testing:
```sh
php artisan make:test ExampleControllerTest --unit
```
```php
use Illuminate\Foundation\Testing\RefreshDatabase;

use RefreshDatabase;

protected string $apiUrl = '/api/';
```

### 2. By manually setting up all files
By manually setting up package, we assume that you are familiar with packages directory structures and flow. If not then you can find a basic tree structure of package below,
<details>
  </br>

  ```js
- app/
  - Http/
    - Controllers/API/
      - ExampleController.php
    - Requests/
      - StoreExampleRequest.php
      - UpdateExampleRequest.php
    - Resources/
      - ExampleResource.php
  - Models/
    - Example.php
  - Services/
    - BaseService.php
    - ExampleService.php
- database/
  - factories/
    - ExampleFactory.php
  - migrations/
    - create_examples_table.php
- routes/
  - api.php
- tests/
  - Feature/
    - ExampleTest.php
  - Unit/
    - ExampleTest.php
```

</details>

## Front-end

### By manually setting up all files
By manually setting up package, we assume that you are familiar with packages directory structures and flow. If not then you can find a basic tree structure of package below,
<details>
  </br>

```js
- src/
    - components/
        - example/
            - example.js
    - pages/
      - example/
        - [id]
          - edit.js
          - view.js
      - index.js
      - create.js        
```

</details>

### Front-end file structure
You should use the front-end file structure specified in the documentation! This build places the Layout for the front end.

```js
import AppLayout from '@/components/Layouts/AppLayout';
import Head from 'next/head';

Index.getLayout = page => <AppLayout name="Example">{page}</AppLayout>;
export default function Index() {
    return (
        <>
            <Head>
                <title>Example - Ä°mtihan</title>
                <meta name="description" content="Generated by codenteq" />
                <link rel="icon" href="/favicon.ico" />
            </Head>
            ...
        </>
    );
}     
```
